# New Gate - API Specification

# 1\. Documentation History

| Version | **Author** | Date | **Description** |
| --- | --- | --- | --- |
| 1.0 | RAP & ADK | 06/10/2020 | • Initial Release |
| 1.1 | RAP | 22/10/2020 | • Fixing typo, remove timestamp on sample payload  <br>• Fixing typo, billAmount type changed to number on sample payload following the specification  <br>• Fixing typo totalAmount on sample payload payment response  <br>• Add totalAmount on sample payload request checkStatus and Reversal  <br>• Update signature example |
| 1.2 | ADK | 12/10/2021 | • Fixing typo ‘additionalBillKey’ to ‘billKey’  <br>• Add Response Code List |
| 1.3 | ADK | 29/10/2021 | • Add RC 68 |
| 1.4 | ADK | 26/11/2021 | • Update Data Type RRN to ‘numeric’ |
| 1.5 | ADK | 20/11/2022 | • Update data type all amount description. Remove information about decimal. |
| 1.6 | ADK | 10/08/2022 | • Add tag transId.channelId |
| 1.7 | ADK | 12/07/2023 | • Add tag transId.subAcqId |
| 1.8 | ADK | 18/10/2023 | • Update list Response Code refers to MPAY System |
| 1.9 | Putra/ADK | 12/07/2024 | • Add RC 51 |
| 1.10 | PPP | 29/11/2024 | • Added a different URL that will be used for Topup billers  <br>• Added the option for a signature on the response that will be generated by AJ |
| 1.11 | PPP | 13/12/2024 | • Added a new Signature option for SHA 256 with RSA  <br>• Added a Postman Collection that references this document, specified in section 5.1 Postman Sample |
| 1.12 | ADK | 13/02/2025 | • Update billInfo in Payment Response, there can be additional data needed to be print in receipt  <br>• Add Timeout Flow for PLN Prepaid only  <br>• Add API advice for PLN Prepaid only |
| 1.13 | PPP | 01/10/2025 | • Added more details to section 8. Signature to improve clarity |
| 1.14 | PPP | 01/10/2025 | • Added Update Balance API specifically for Card-Based Topup billers only |
| 1.15.0 | ADK | 15/10/2025 | • Add more information PLN Prepaid Advice flow  <br>• Add RC 41 |

# 2\. Document Reference

| **Document Name** | **Version** |
| --- | --- |
| New Gate - API Specification Document version 1.15.0 | 1.15.0 |

# 3\. Message Definition And Transaction Flow

## 3.1 Overview

This document is API interface to do payment or topup. This API specification will be used for all implementation of payment feature in Artajasa.

# 4\. Transaction Flow

On general, transaction between Collecting Agent, Artajasa and Biller is illustrated below.

<img src="https://content.pstmn.io/a6ed930c-9458-444e-9f7b-009616784be1/aW1hZ2UucG5n" width="471" height="451">

## 4.1 Timeout Flow

We can categorize timeout flow to timeout of payment and timeout of non-payment (example, inquiry).  
For timeout of non-payment, the request can be reinitiated by sending new request in another session.

<img src="https://content.pstmn.io/b6c969e1-35aa-4f07-8234-e6ff7ea029d8/aW1hZ2UucG5n" width="614" height="222">

For timeout of payment, client or sender can check the request using API status. As alternative, client can wait for report transaction on next day, to know whether transaction request is received by destination or not. Same biller support to reverse transaction, it can also be used if payment timeout occur.

<img src="https://content.pstmn.io/7ae20eaa-3d12-4be5-b150-d2f3e14e557f/aW1hZ2UucG5n" width="614" height="222">

For PLN Prepaid timeout of payment, client or sender shall send API advice.

<img src="https://content.pstmn.io/dbe7c876-6aab-4f9b-9f04-93737f2dee71/aW1hZ2UucG5n" width="614" height="222">

If client or sender get negative response or no response of advice, retry advice shall be sent automatically. Retry advice shall be sent three times. If still get negative response or no response of advice, client or sender shall performe manual advice. And if still get negative response or no response of manual advice, the transaction is suspect and receipt of suspect shall be printed.  
Retry advice shall be sent within 30-35 seconds.
